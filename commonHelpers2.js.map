{"version":3,"file":"commonHelpers2.js","sources":["../src/js/local-storage-interface.js","../src/js/header.js","../src/img/symbol-defs.svg","../src/js/markup_products_list.js","../src/js/alert.js","../src/js/modal.js","../src/js/products_list.js","../src/js/filter.js","../src/js/discount_products.js","../src/js/popular_products.js","../src/js/pagination.js","../src/js/footer.js"],"sourcesContent":["import { ShopStorage } from './local-storage';\n\nconst SHOP_STORAGE = 'productsBasket';\nconst productsBasket = new ShopStorage(SHOP_STORAGE);\n\nexport  function getAllProducts(){\n  return productsBasket.getAllProducts();\n}\n\nexport  function addProductOnClickButton(productObj){\n  productsBasket.addProduct(productObj)\n}\n\nexport  function removeProductOnClickButton(productObj){\n  productsBasket.removeAllProductsById(productObj)\n}","// const LS_KEY = 'productsBasket';\n\n// const loadFromLS = key => {\n//   try {\n//     const serializedState = localStorage.getItem(key);\n//     return serializedState === null ? undefined : JSON.parse(serializedState);\n//   } catch (error) {\n//     console.error('Get state error: ', error.message);\n//   }\n// };\n\n// export const updateCartCounter = () => {\n//   const cartCounter = document.querySelector('#cart-counter');\n\n//   const items = loadFromLS(LS_KEY) ?? [];\n//   cartCounter.textContent = `(${items.length})`;\n// };\n\n// updateCartCounter();\nimport { getAllProducts } from './local-storage-interface.js';\nexport const updateCartCounter = () => {\n  const cartCounter = document.querySelector('#cart-counter');\n  const items = getAllProducts();\n  cartCounter.textContent = `(${items.length})`;\n};\nupdateCartCounter();\n\n","export default \"__VITE_ASSET__59895652__\"","import icons from '../img/symbol-defs.svg';\n\nexport default function createMarkup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, price, size, popularity }) => `\n            <li class=\"product-item\" data-product-id='${_id}'>\n              <div class=\"product-img-container\">\n                <a class=\"products-card-link\" href=\"\">\n                  <img src=\"${img}\" alt=\"${name}\" width=\"140\" height=\"140\" class=\"product-img\">\n                </a>\n              </div>\n                <a class=\"products-card-link\" href=\"\">\n                  <h3 class=\"product-title-mark\">${name}</h3>\n                </a>\n              <div class=\"product-parameter-container\">\n                <p class=\"product-parameter\">Category: <span class=\"span-parameter-value\"> ${category.replace(\n                  /_/g,\n                  ' '\n                )}</span></p>\n                <p class=\"product-parameter\">Size: <span class=\"span-parameter-value\"> ${size}</span></p>\n                <p class=\"product-parameter popularity\">Popularity: <span class=\"span-parameter-value\"> ${popularity}</span></p>\n                </div>\n              <div class=\"price-card-container\">\n                <p class=\"price\">$${price}</p>\n                <button class=\"cart-button cart-button-css\" type=\"button\" data-item-id=\"${_id}\" data-in-cart=\"false\">\n                  <svg class=\"cart-icon\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-basket\"></use>\n                  </svg>\n                </button>\n              </div>\n            </li>\n            `\n    )\n    .join('');\n}\n","import Swal from 'sweetalert2';\n\nexport default function alertPopUp(message = 'The product has been added to the basket!', icon= \"success\") {\n    Swal.fire({\n          title: \"\",\n          text: message,\n          icon: icon,\n          confirmButtonColor: \"#6d8434\",\n        });\n }","import icons from '../img/symbol-defs.svg';\nimport { getAllProducts, addProductOnClickButton, removeProductOnClickButton } from './local-storage-interface';\nimport alertPopUp from './alert';\nimport { updateBasketIconByProductId } from './products_list';\nimport { updateCartCounter } from './header.js';\nimport ApiService from './requests';\n\nconst api = new ApiService();\nconst modal = document.querySelector('.modal-prod-wrapper');\n\nexport async function openModal(productId) {\n  modal.classList.add('modal-active');\n  modal.classList.add('loader');\n  const productDetails = await api.getProductById(productId);\n  modal.classList.remove('loader');\n\n  renderModal(productDetails);\n  syncAddProductButtonStatus(productDetails);\n}\n\n//! Функція яка зберігає стан кнопки залежно від стану корзини\nfunction syncAddProductButtonStatus(productDetails) {\n  const addBtnText = document.querySelector('.modal-prod-add-text');\n  const productId = productDetails._id;\n  const currentCart = getAllProducts();\n  if (currentCart.some(item => item._id === productId)) {\n    addBtnText.textContent = 'Remove from';\n  } else {\n    addBtnText.textContent = 'Add to';\n  }\n}\n\n//! Функція рендеру розмітки\nexport function renderModal(productDetails) {\n  try {\n    modal.classList.add('modal-active');\n    document.body.classList.add('stop-scroll');\n\n    modal.innerHTML = `\n  <div class='modal-prod-card'>\n  <button type='button' class='modal-prod-close-btn'>\n    <svg class='modal-prod-close-icon' width='22' height='22'>\n      <use href='${icons}#icon-ion_close-sharp'></use>\n    </svg>\n  </button>\n  <div class='modal-prod-information-wrap'>\n  <div class='modal-prod-img-wrap'>\n      <img class='modal-prod-img' src='${productDetails.img}' alt='${productDetails.name}' />\n  </div>\n  <div class='modal-prod-name-wrap'>\n  <p class='modal-prod-name'>${productDetails.name}</p>\n  <ul class='modal-prod-list'>\n    <li class='modal-prod-item'>\n      <p class='modal-prod-text'>Category: <span>${productDetails.category.replace(/_/g, ' ')}</span></p>\n    </li>\n    <li class='modal-prod-item'>\n      <p class='modal-prod-text'>Size: <span>${productDetails.size}</span></p>\n    </li>\n    <li class='modal-prod-item'>\n      <p class='modal-prod-text'>Popularity: <span>${productDetails.popularity}</span></p>\n    </li>\n  </ul>\n  <p class='modal-prod-desc'>${productDetails.desc}</p>\n  </div>\n  </div>\n  <div class='modal-prod-price-elem'>\n  <p class='modal-prod-price'>&#36;${productDetails.price}</p>\n  <button class='modal-prod-add-btn' >\n      <p class='modal-prod-add-text'>Add to</p>\n      <svg class='modal-prod-basket-icon' >\n        <use href='${icons}#icon-basket'></use>\n      </svg>\n  </button>\n  </div>\n  </div>\n  `;\n\n    const addBtn = document.querySelector('.modal-prod-add-btn');\n    addBtn.addEventListener('click', () => addOrRemoveProductToBasket(productDetails));\n\n    const closeBtn = document.querySelector('.modal-prod-close-btn');\n    closeBtn.addEventListener('click', () => closeModal());\n\n    // Додаю слухачі подій\n    window.addEventListener('click', closeModalOnWindowClick);\n    window.addEventListener('keydown', closeModalOnEsc);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function addOrRemoveProductToBasket(productDetails) {\n  const productId = productDetails._id;\n  //\n  const allProducts = getAllProducts();\n  const isProductInBasket = allProducts.some(\n    item => item._id === productId,\n  );\n  const addBtnText = document.querySelector('.modal-prod-add-text');\n  if (!isProductInBasket) {\n    addProductOnClickButton({ _id: productId, amount: 1 });\n    alertPopUp();\n    addBtnText.textContent = 'Remove from';\n    updateBasketIconByProductId(productId, true);\n\n  } else {\n    removeProductOnClickButton(productId);\n    alertPopUp('The product has been removed from the basket!', 'info');\n    addBtnText.textContent = 'Add to';\n    updateBasketIconByProductId(productId, false);\n  }\n  updateCartCounter();\n}\n\n//! Функція закриття модалки при кліку на хрестик\n\nfunction closeModal() {\n  document.body.classList.remove('stop-scroll');\n  modal.classList.remove('modal-active');\n  modal.innerHTML = '';\n\n  // Видаляю слухачі подій\n  window.removeEventListener('click', closeModalOnWindowClick);\n  window.removeEventListener('keydown', closeModalOnEsc);\n}\n\n//! Закриття модалки при кліку по бекдропу\n\nfunction closeModalOnWindowClick(e) {\n  if (e.target === modal) {\n    closeModal();\n  }\n}\n\n//! Закриття модалки при кліку на кнопку ESC\n\nfunction closeModalOnEsc(e) {\n  if (e.keyCode === 27) {\n    closeModal();\n  }\n}\n","import { openModal } from './modal';\nimport ApiService from './requests';\nimport createMarkup from './markup_products_list';\nimport icons from '../img/symbol-defs.svg';\nimport alertPopUp from './alert';\nimport {\n  getAllProducts,\n  addProductOnClickButton,\n} from './local-storage-interface';\nimport { updateCartCounter } from './header.js';\n\nconst productsList = document.querySelector('.js-products-list');\nproductsList.addEventListener('click', onClickCart);\n\nconst apiService = new ApiService();\nconst itemsPerPage = 6;\nlet productsOnePage;\nlet basketButtons;\n\nconst markupSvgCheck = `<svg class=\"cart-icon\" width=\"18\" height=\"18\">\n<use href=\"${icons}#icon-check\"></use>\n</svg>`;\n\nconst markupSvgCart = `<svg class=\"cart-icon\" width=\"18\" height=\"18\">\n<use href=\"${icons}#icon-basket\"></use>\n</svg>`;\n\nasync function prod() {\n  const allProducts = await apiService.getAllProducts();\n  const productsOnePage = allProducts.results.slice(0, itemsPerPage);\n\n  displayProducts(productsOnePage, productsList);\n  addEventListenerToCardButton();\n  basketButtons.forEach(button => {\n    const isProductInBasket = getAllProducts().some(\n      item => item._id === button.dataset.itemId\n    );\n    updateBasketIcon(button, isProductInBasket);\n  });\n}\n\nexport function displayProducts(products, container) {\n  productsOnePage = products;\n  container.innerHTML = createMarkup(products);\n}\n\nconst cartState = getAllProducts();\n\nfunction addEventListenerToCardButton() {\n  addEventListenersToBasketButtons();\n}\n\nexport function addEventListenersToBasketButtons() {\n  basketButtons = document.querySelectorAll('.cart-button');\n  if (basketButtons) {\n    basketButtons.forEach(basketButton => {\n      basketButton.addEventListener('click', handleBasketButtonClick);\n    });\n  }\n}\n\nfunction handleBasketButtonClick(event) {\n  const basketButton = event.target.closest('.cart-button');\n\n  if (basketButton) {\n    const itemId = basketButton.dataset.itemId;\n    const { message, icon } = handleBasketClick(basketButton, itemId);\n    alertPopUp(message, icon);\n    updateCartCounter();\n  }\n}\n\nexport function handleBasketClick(cartButton, itemId) {\n  const cartItemIndex = cartState.findIndex(item => item._id === itemId);\n  let message, icon;\n  if (cartItemIndex !== -1) {\n    message = 'This product has already been added to the cart!';\n    icon = 'warning';\n  } else {\n    addProductOnClickButton({ _id: itemId, amount: 1 }); // Додаємо товар до локального сховища\n  }\n  updateBasketIcon(cartButton, true);\n  return { message, icon };\n}\n\nexport function updateBasketIconByProductId(productId, inCart) {\n  basketButtons.forEach(button => {\n    if (button.dataset.itemId === productId) {\n      updateBasketIcon(button, inCart);\n    }\n  });\n}\n\nfunction updateBasketIcon(cartButton, inCart) {\n  const button = document.querySelector('.cart-button');\n  if (inCart) {\n    cartButton.innerHTML = markupSvgCheck;\n    button.disabled = true;\n  } else {\n    cartButton.innerHTML = markupSvgCart;\n    button.disabled = false;\n  }\n}\n\nprod();\n\nfunction onClickCart(e) {\n  e.preventDefault();\n  const clickedEl = e.target;\n  console.log(clickedEl);\n  if (clickedEl.closest('a') && clickedEl.closest('.products-card-link')) {\n    const id = clickedEl.closest('li').dataset.productId;\n    openModal(id).catch(error => {\n      console.error('Помилка при отриманні продукта за айді:', error.message);\n    });\n  }\n}","import createMarkup from './markup_products_list.js';\nimport ApiService from './requests.js';\nimport {addEventListenersToBasketButtons} from './products_list.js';\n// import {alertPopUp} from './alert';\n// alertPopUp('The product has been removed from the basket!');\n\n\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n\n  localStorage.setItem('noResultsMessageDisplayed', 'false');\n  const apiService = new ApiService();\n\n  // Запит списку категорій та додавання \"Show all\"\n  const categorySelect = document.querySelector('.category-select');\n\n   categorySelect.addEventListener('change', async () => {\n    await filterProducts();\n   });\n  \n   async function filterProducts() {\n     // Получение значений из формы и локального хранилища\n     const keywordInput = document.querySelector('.keyword-input');\n     const selectedCategory = categorySelect.value;\n\n     const filters = {\n       keyword: keywordInput.value || null,\n       category: selectedCategory === 'Show all' ? null : selectedCategory,\n       page: 1,\n       limit: 6,\n     };\n     localStorage.setItem('filters', JSON.stringify(filters));\n\n     // Надсилання запиту на сервер з урахуванням фільтрів\n     try {\n       let products;\n\n       // Перевіряємо, чи є ключове слово\n       if (!filters.keyword && filters.category === null) {\n         // Якщо і ключове слово, і категорія відсутні,\n         // Запит на отримання всіх продуктів\n         products = await apiService.getAllProducts(\n           filters.page,\n           filters.limit\n         );\n       } else if (!filters.keyword) {\n         // Якщо немає ключового слова, запит на отримання всіх продуктів у вибраній категорії\n         products = await apiService.getProductsInCategories(\n           filters.category,\n           filters.page,\n           filters.limit\n         );\n       } else {\n         // Інакше запит на сервер з урахуванням ключового слова\n         products = await apiService.getProductsByName(\n           filters.keyword,\n           filters.category,\n           filters.page,\n           filters.limit\n         );\n       }\n\n       // Обробка даних (наприклад, відображення на сторінці)\n       console.log('Полученные продукты:', products);\n\n       // RENDERing\n       if (products.totalPages === 0) {\n         if (\n           localStorage.getItem('noResultsMessageDisplayed') !== 'true' ||\n           localStorage.getItem('noResultsMessageDisplayed') !== true\n         ) {\n           renderNoResultsMessage();\n         }\n       } else {\n         // Передача властивостей продукту markUp()\n         const productsMarkup = createMarkup(products.results);\n\n         // Відображення HTML-розмітки на сторінці\n         const productsList = document.querySelector('.js-products-list');\n         productsList.innerHTML = productsMarkup;\n         addEventListenersToBasketButtons();\n         // Удаление сообщения \"Nothing...\"\n         removeNoResultsMessage();\n         // Устанавливаем флаг в false, так как результаты найдены\n         localStorage.setItem('noResultsMessageDisplayed', 'false');\n       }\n     } catch (error) {\n       console.error('Ошибка при получении продуктов:', error.message);\n     }\n   }\n  \n  try {\n    const categories = await apiService.getProductsByCategory();\n    categories.push('Show all');\n    categories.forEach(category => {\n      const option = document.createElement('option');\n      option.value = category;\n      option.textContent = category;\n      categorySelect.appendChild(option);\n    });\n  } catch (error) {\n    console.error('Ошибка при получении категорий:', error.message);\n  }\n\n  // Обробка події відправлення форми\n  const filterForm = document.querySelector('.filter-form');\n\n  filterForm.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    // Набуття значень з форми\n    const keywordInput = document.querySelector('.keyword-input');\n    const selectedCategory = categorySelect.value;\n\n    // Оновлення даних у локальному сховищі\n    const filters = {\n      keyword: keywordInput.value || null,\n      category: selectedCategory === 'Show all' ? null : selectedCategory,\n      page: 1,\n      limit: 6,\n    };\n\n    localStorage.setItem('filters', JSON.stringify(filters));\n\n   \n    const defaultFilters = {\n    keyword: null,\n    category: null,\n    page: 1,\n    limit: 6,\n  };\n  localStorage.setItem('filters', JSON.stringify(defaultFilters));\n\n  // Вызов функции фильтрации при загрузке страницы\n  await filterProducts();\n  });\n\n  function removeNoResultsMessage() {\n    // const productsList = document.querySelector('.js-products-list');\n    const titleElement = document.querySelector('.filters-title');\n    const textElement = document.querySelector('.filters-text');\n    // productsList.remove();\n    // titleElement.remove();\n    // textElement.remove();\n    if (titleElement) {\n      titleElement.remove();\n    }\n\n    if (textElement) {\n      textElement.remove();\n    }\n\n    // Устанавливаем флаг в локальное хранилище, чтобы помнить, что сообщение уже было выведено\n    localStorage.setItem('noResultsMessageDisplayed', 'true');\n  }\n\n  // Ініціалізація значень за замовчуванням під час завантаження сторінки\n  const defaultFilters = {\n    keyword: null,\n    category: null,\n    page: 1,\n    limit: 6,\n  };\n  localStorage.setItem('filters', JSON.stringify(defaultFilters));\n  await filterProducts();\n});\n\n//    onFocus & onBlur on <input-box> from input\n// Получаем ссылки на элементы\nconst inputBox = document.querySelector('.input-box');\nconst keywordInput = document.querySelector('.keyword-input');\n\n// Добавляем обработчики событий\nkeywordInput.addEventListener('focus', addFocusStyle);\nkeywordInput.addEventListener('blur', removeFocusStyle);\n\n// Функции для добавления и удаления стилей при фокусировке и потере фокуса\nfunction addFocusStyle() {\n  inputBox.classList.add('focus-within');\n}\n\nfunction removeFocusStyle() {\n  inputBox.classList.remove('focus-within');\n}\n// \n// \n// rendering \"Nothing was found for the selected\"\nfunction renderNoResultsMessage() {\n\n  if (\n    localStorage.getItem('noResultsMessageDisplayed') === 'true' ||\n    localStorage.getItem('noResultsMessageDisplayed') === true\n  ) {\n    return; // Если да, то выходим из функции\n  }\n  const productsList = document.querySelector('.js-products-list');\n\n  // Создаем заголовок H2\n  const titleElement = document.createElement('h2');\n  titleElement.textContent = 'Nothing was found for the selected ';\n  titleElement.classList.add('filters-title');\n\n  // Создаем span\n  const filtersSpan = document.createElement('span');\n  filtersSpan.textContent = 'filters';\n  filtersSpan.classList.add('filters-span');\n\n  // Присоединяем span к заголовку\n  titleElement.appendChild(filtersSpan);\n\n  // Создаем параграф\n  const textElement = document.createElement('p');\n  textElement.textContent =\n    'Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.';\n  textElement.classList.add('filters-text');\n\n  // Вставляем элементы в DOM\n  productsList.innerHTML = ''; // Очищаем содержимое productsList\n  productsList.insertAdjacentElement('afterend', titleElement);\n  titleElement.insertAdjacentElement('afterend', textElement);\n\n  // Устанавливаем флаг в локальное хранилище, чтобы помнить, что сообщение уже было выведено\n  localStorage.setItem('noResultsMessageDisplayed', 'true');\n}\n","import { openModal } from './modal';\nimport ApiService from './requests';\nimport icons from '../img/symbol-defs.svg';\nimport Swal from 'sweetalert2';\nimport alertSuccess from './alert';\nimport { ShopStorage } from './local-storage';\n\nconst popularList = document.querySelector('.js-discount-list');\npopularList.addEventListener('click', handleClick);\n\nconst apiReq = new ApiService();\nconst imgPerPage = 2;\n\nconst shopStorage = new ShopStorage('cart');\n\nconst markupSvgCheck = `<svg class=\"ico\">\n<use href=\"${icons}#icon-check\"></use>\n</svg>`;\n\nconst markupSvgCart = `<svg class=\"ico\">\n<use href=\"${icons}#icon-basket\"></use>\n</svg>`;\n\nasync function elemFromApi() {\n  const products = await apiReq.getDiscountedProducts();\n  displayProducts(products, popularList);\n  addEventListenerToCardButton();\n}\n\nfunction displayProducts(products, container) {\n  container.innerHTML = createMarkup(products);\n}\n\nconst cartState = shopStorage.getAllProducts();\n\nfunction addEventListenerToCardButton() {\n  addEventListenersToBasketButtons();\n}\n\nfunction addEventListenersToBasketButtons() {\n  const basketButtons = document.querySelectorAll('.discount-cart-js');\n\n  if (basketButtons) {\n    basketButtons.forEach(basketButton => {\n      basketButton.addEventListener('click', handleBasketButtonClick);\n    });\n  }\n}\n\nfunction handleBasketButtonClick(event) {\n  const basketButton = event.target.closest('.discount-cart-js');\n\n  if (basketButton) {\n    const itemId = basketButton.dataset.itemId;\n    handleBasketClick(basketButton, itemId);\n    alertSuccess();\n  }\n}\n\nfunction handleBasketClick(cartButton, itemId, markupSvgCheck, markupSvgCart) {\n  const cartItemIndex = cartState.findIndex(item => item._id === itemId);\n  if (cartItemIndex !== -1) {\n    Swal.fire({\n      title: '',\n      text: 'This product has already been added to the cart!',\n      icon: 'warning',\n      confirmButtonColor: '#6d8434',\n    });\n  } else {\n    shopStorage.addProduct({ _id: itemId, amount: 1 }); // Додаємо товар до локального сховища\n  }\n  updateBasketIcon(cartButton, true, markupSvgCheck, markupSvgCart);\n}\n\nfunction updateBasketIcon(cartButton, inCart) {\n  if (inCart) {\n    cartButton.innerHTML = markupSvgCheck;\n    const button = document.querySelector('.discount-cart-js');\n    button.disabled = true;\n  } else {\n    cartButton.innerHTML = markupSvgCart;\n  }\n}\n\nelemFromApi();\n\nfunction handleClick(e) {\n  e.preventDefault();\n  const clickedEl = e.target;\n  console.log(clickedEl);\n  if (\n    clickedEl.closest('a') &&\n    clickedEl.closest('.popular-products-card-link')\n  ) {\n    const id = clickedEl.closest('li').dataset.productId;\n    openModal(id).catch(error => {\n      console.error('Помилка при отриманні продукта за айді:', error.message);\n    });\n  }\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        price,\n      }) => `<li class=\"popular-product-item\" data-product-id='${_id}'>\n    <div class=\"popular-con\">\n        <div class=\"product-image-container\" data-product-id=\"${_id}\"> <img src=\"${img}\" alt=\"\" class=\"product-image\">\n        </div>\n        <div class=\"product-text-pop\">\n            <h3 class=\"product-name\">${name}\n                <p class=\"product margin\">\n                    <p class=\"price\">$${price}</p>\n                </p>\n            </h3>\n            <button class=\"cart-button-pop cart-button\" type=\"button\" data-product-id=\"${_id}\" data-in-cart=\"false\">\n                <svg class=\"cart-icon-pop\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-basket\"></use>\n                </svg>\n            </button>\n        </div>\n    </div>\n</li>`\n    )\n    .join('');\n}","import { openModal } from './modal';\nimport ApiService from './requests';\nimport icons from '../img/symbol-defs.svg';\nimport Swal from 'sweetalert2';\nimport alertSuccess from './alert';\nimport { ShopStorage } from './local-storage';\n\nconst popularList = document.querySelector('.js-popular-list');\npopularList.addEventListener('click', handleClick);\n\nconst apiReq = new ApiService();\nconst imgPerPage = 5;\n\nconst shopStorage = new ShopStorage('cart');\n\nconst markupSvgCheck = `<svg class=\"ico\">\n<use href=\"${icons}#icon-check\"></use>\n</svg>`;\n\nconst markupSvgCart = `<svg class=\"ico\">\n<use href=\"${icons}#icon-basket\"></use>\n</svg>`;\n\nasync function elemFromApi() {\n  const products = await apiReq.getPopularProducts();\n  const productFirst = products.filter(({ popularity }) => popularity > 3);\n  displayProducts(productFirst, popularList);\n  addEventListenerToCardButton();\n}\n\nfunction displayProducts(products, container) {\n  container.innerHTML = createMarkup(products);\n}\n\nconst cartState = shopStorage.getAllProducts();\n\nfunction addEventListenerToCardButton() {\n  addEventListenersToBasketButtons();\n}\n\nfunction addEventListenersToBasketButtons() {\n  const basketButtons = document.querySelectorAll('.popular-cart-button');\n\n  if (basketButtons) {\n    basketButtons.forEach(basketButton => {\n      basketButton.addEventListener('click', handleBasketButtonClick);\n    });\n  }\n}\n\nfunction handleBasketButtonClick(event) {\n  const basketButton = event.target.closest('.popular-cart-button');\n\n  if (basketButton) {\n    const itemId = basketButton.dataset.itemId;\n    handleBasketClick(basketButton, itemId);\n    alertSuccess();\n  }\n}\n\nfunction handleBasketClick(cartButton, itemId, markupSvgCheck, markupSvgCart) {\n  const cartItemIndex = cartState.findIndex(item => item._id === itemId);\n  if (cartItemIndex !== -1) {\n    Swal.fire({\n      title: '',\n      text: 'This product has already been added to the cart!',\n      icon: 'warning',\n      confirmButtonColor: '#6d8434',\n    });\n  } else {\n    shopStorage.addProduct({ _id: itemId, amount: 1 }); // Додаємо товар до локального сховища\n  }\n  updateBasketIcon(cartButton, true, markupSvgCheck, markupSvgCart);\n}\n\nfunction updateBasketIcon(cartButton, inCart) {\n  if (inCart) {\n    cartButton.innerHTML = markupSvgCheck;\n    const button = document.querySelector('.popular-cart-button');\n    button.disabled = true;\n  } else {\n    cartButton.innerHTML = markupSvgCart;\n  }\n}\n\nelemFromApi();\n\nfunction handleClick(e) {\n  e.preventDefault();\n  const clickedEl = e.target;\n  console.log(clickedEl);\n  if (\n    clickedEl.closest('a') &&\n    clickedEl.closest('.popular-products-card-link')\n  ) {\n    const id = clickedEl.closest('li').dataset.productId;\n    openModal(id).catch(error => {\n      console.error('Помилка при отриманні продукта за айді:', error.message);\n    });\n  }\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        category,\n        size,\n        popularity,\n      }) => `<li class=\"popular-product-item\" data-product-id='${_id}'>\n    <div class=\"popular-con\">\n        <div class=\"product-image-container\" data-product-id=\"${_id}\"> <img src=\"${img}\" alt=\"\" class=\"product-image\" width=\"56\" height=\"56\">\n        </div>\n        <div class=\"popular-left\">\n          <div class=\"product-text-pop\">      \n            <h3 class=\"product-name\">${name}</h3>\n          </div>  \n                <p class=\"product margin\">\n                    Category: <span class=\"category-value\">${category.replace(\n                      '_',\n                      ' '\n                    )}</span><br>\n                    Size: <span class=\"size-value\">${size}</span>\n                    Popularity: <span class=\"popularity-value\"> ${popularity}</span>\n                </p>\n        </div>\n                    <button class=\"cart-button-pop cart-button\" type=\"button\" data-product-id=\"${_id}\" data-in-cart=\"false\">\n                <svg class=\"cart-icon-pop\" width=\"12\" height=\"12\">\n                    <use href=\"${icons}#icon-basket\"></use>\n                </svg>\n            </button>\n    </div>\n</li>`\n    )\n    .join('');\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport ApiService from './requests';\nimport { displayProducts, addEventListenersToBasketButtons } from './products_list';\nconst productsList = document.querySelector('.js-products-list');\nconst apiService = new ApiService();\nconst container = document.getElementById('pagination');\nconst options = {\n  totalItems: 540,\n  itemsPerPage: 6,\n  visiblePages: 4,\n  page: 1,\n  centerAlign: true,\n  template: {\n    prev:\n      '<a href=\"#\" class=\"tui-page-btn tui-prev\">' +\n      '<svg class=\"icon-svg\"><use href=\"prev.svg#prev\"></use></svg>' +\n      '</a>',\n    firstPageLink: '<a href=\"#\" class=\"tui-page-btn tui-first\">{{page}}</a>',\n    page: '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n    lastPageLink: '<a href=\"#\" class=\"tui-page-btn tui-last\">{{page}}</a>',\n    next:\n      '<a href=\"#\" class=\"tui-page-btn tui-next\">' +\n      '<svg class=\"icon-svg\"><use href=\"next.svg#next\"></use></svg>' +\n      '</a>',\n  },\n};\nconst pagination = new Pagination(container, options);\n// Обробник події перед переміщенням на іншу сторінку\npagination.on('beforeMove', async event => {\n  const currentPage = event.page;\n  const newProducts = await apiService.getAllProducts(currentPage, 6);\n  displayProducts(newProducts.results, productsList);\n  addEventListenersToBasketButtons();\n});\n// // Показуємо або приховуємо пагінацію відповідно до умови\n// // if (totalPages > 1) {\n// // paginationContainer.style.display = 'block';\n// // } else {\n// // paginationContainer.style.display = 'none';\n// // } (edited)\n","import alertPopUp from './alert';\nimport Notiflix from 'notiflix';\nimport ApiService from \"./requests\";\n\nconst apiService = new ApiService(); // Создаем экземпляр класса ApiService\n\nconst formSubmit = document.getElementById(\"subscriptionForm\");\nconst emailInput = document.querySelector(\".footer-form-input\");\n\nfunction isValidEmail(email) {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n\n  const email = emailInput.value;\n\n  if (isValidEmail(email)) {\n    try {\n      // Вызываем метод createSubscription через экземпляр ApiService\n      const response = await apiService.createSubscription(email);\n      if (response.conflict) {\n        // Выводим сообщение об email конфликте\n        alertPopUp('This email address has already been entered. You have already subscribed to our new products. Watch for offers at the mailing address.');\n      } else {\n        // Выводим уведомление об успешной подписке\n        console.log('Success:', response);\n        alertPopUp('Subscription completed successfully');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      Notiflix.Notify.failure('Error during subscription');\n    }\n  } else {\n    Notiflix.Notify.warning('Please enter a valid email address.');\n    }\n    event.target.reset();\n}\n\nformSubmit.addEventListener(\"submit\", handleSubmit);\n"],"names":["SHOP_STORAGE","productsBasket","ShopStorage","getAllProducts","addProductOnClickButton","productObj","removeProductOnClickButton","updateCartCounter","cartCounter","items","icons","createMarkup","arr","_id","name","img","category","price","size","popularity","alertPopUp","message","icon","Swal","api","ApiService","modal","openModal","productId","productDetails","renderModal","syncAddProductButtonStatus","addBtnText","item","addOrRemoveProductToBasket","closeModal","closeModalOnWindowClick","closeModalOnEsc","error","isProductInBasket","updateBasketIconByProductId","productsList","onClickCart","apiService","itemsPerPage","basketButtons","markupSvgCheck","markupSvgCart","prod","productsOnePage","displayProducts","addEventListenerToCardButton","button","updateBasketIcon","products","container","cartState","addEventListenersToBasketButtons","basketButton","handleBasketButtonClick","event","itemId","handleBasketClick","cartButton","cartItemIndex","inCart","clickedEl","id","categorySelect","filterProducts","keywordInput","selectedCategory","filters","renderNoResultsMessage","productsMarkup","removeNoResultsMessage","categories","option","defaultFilters","titleElement","textElement","inputBox","addFocusStyle","removeFocusStyle","filtersSpan","popularList","handleClick","apiReq","shopStorage","elemFromApi","alertSuccess","productFirst","options","pagination","Pagination","currentPage","newProducts","formSubmit","emailInput","isValidEmail","email","handleSubmit","response","Notiflix"],"mappings":"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"}