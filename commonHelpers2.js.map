{"version":3,"file":"commonHelpers2.js","sources":["../src/js/markup_products_list.js","../src/js/modal.js","../src/js/products_list.js","../src/js/filter.js","../src/js/markup_discount.js","../src/js/discount_products.js","../src/js/markup-popular.js","../src/js/popular_products.js"],"sourcesContent":["import icons from '../img/symbol-defs.svg';\nimport { getAllProducts } from './local-storage-interface.js';\n\nconst markupSvgCheck = `<svg class=\"cart-icon\" width=\"18\" height=\"18\">\n<use href=\"${icons}#icon-check\"></use>\n</svg>`;\n\nconst markupSvgCart = `<svg class=\"cart-icon\" width=\"18\" height=\"18\">\n<use href=\"${icons}#icon-basket\"></use>\n</svg>`;\n\nconst dataFromLocalStorage = getAllProducts();\n\nexport default function createMarkup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, price, size, popularity }) => `\n            <li class=\"product-item\" data-product-id='${_id}'>\n              <div class=\"product-img-container\">\n                  <img src=\"${img}\" alt=\"${name}\" width=\"140\" height=\"140\" class=\"product-img\" loading=\"lazy\">\n              </div>\n\n              <h3 class=\"product-title-mark\">${name}</h3>\n\n              <div class=\"product-parameter-container\">\n                <p class=\"product-parameter\">Category: <span class=\"span-parameter-value\"> ${category.replace(\n                  /_/g,\n                  ' '\n                )}</span></p>\n                <p class=\"product-parameter\">Size: <span class=\"span-parameter-value\"> ${size}</span></p>\n                <p class=\"product-parameter popularity\">Popularity: <span class=\"span-parameter-value\"> ${popularity}</span></p>\n                </div>\n\n              <div class=\"price-card-container\">\n                <p class=\"price\">$${price}</p>\n\n                <button class=\"cart-button cart-button-css\" type=\"button\" data-item-id=\"${_id}\" data-in-cart=\"false\" aria-label=\"Add to cart\">\n                ${\n                  dataFromLocalStorage.some(item => item._id === _id)\n                    ? markupSvgCheck\n                    : markupSvgCart\n                }\n                </button>\n              </div>\n            </li>\n            `\n    )\n    .join('');\n}\n","import icons from '../img/symbol-defs.svg';\nimport {\n  getAllProducts,\n  addProductOnClickButton,\n  removeProductOnClickButton,\n} from './local-storage-interface';\nimport alertPopUp from './alert';\nimport { updateBasketIconByProductId } from './products_list';\nimport { updateCartCounter } from './header';\nimport ApiService from './requests';\n\nconst modal = document.querySelector('.modal-prod-wrapper');\nconst api = new ApiService();\nexport async function openModal(product) {\n  modal.classList.add('modal-active');\n  modal.classList.add('loader');\n\n  const productWithDescription = await api.getProductById(product._id);\n  modal.classList.remove('loader');\n  renderModal(productWithDescription);\n  syncAddProductButtonStatus(productWithDescription);\n}\n\n//! Функція яка зберігає стан кнопки залежно від стану корзини\nfunction syncAddProductButtonStatus(productDetails) {\n  const addBtnText = document.querySelector('.modal-prod-add-text');\n  const productId = productDetails._id;\n  const currentCart = getAllProducts();\n  if (currentCart.some(item => item._id === productId)) {\n    addBtnText.textContent = 'Remove from';\n  } else {\n    addBtnText.textContent = 'Add to';\n  }\n}\n\n//! Функція рендеру розмітки\nexport function renderModal(productDetails) {\n  try {\n    modal.classList.add('modal-active');\n    document.body.classList.add('stop-scroll');\n\n    modal.innerHTML = `\n  <div class=\"modal-prod-card\">\n  <button type=\"button\" class=\"modal-prod-close-btn\" aria-label=\"Close\">\n    <svg class=\"modal-prod-close-icon\" width=\"22\" height=\"22\">\n      <use href=\"${icons}#icon-ion_close-sharp\"></use>\n    </svg>\n  </button>\n  <div class=\"modal-prod-information-wrap\">\n  <div class=\"modal-prod-img-wrap\">\n      <img class=\"modal-prod-img\" src=\"${productDetails.img}\" alt=\"${productDetails.name}\" loading=\"lazy\" />\n  </div>\n  <div class=\"modal-prod-name-wrap\">\n  <p class=\"modal-prod-name\">${productDetails.name}</p>\n  <ul class=\"modal-prod-list\">\n    <li class=\"modal-prod-item\">\n      <p class=\"modal-prod-text\">Category: <span>${productDetails.category.replace(\n        /_/g,\n        ' '\n      )}</span></p>\n    </li>\n    <li class=\"modal-prod-item\">\n      <p class=\"modal-prod-text\">Size: <span>${productDetails.size}</span></p>\n    </li>\n    <li class=\"modal-prod-item\">\n      <p class=\"modal-prod-text\">Popularity: <span>${\n        productDetails.popularity\n      }</span></p>\n    </li>\n  </ul>\n  <p class=\"modal-prod-desc\">${productDetails.desc}</p>\n  </div>\n  </div>\n  <div class=\"modal-prod-price-elem\">\n  <p class=\"modal-prod-price\">&#36;${productDetails.price}</p>\n  <button class=\"modal-prod-add-btn\" aria-label=\"Add to cart\" >\n      <p class=\"modal-prod-add-text\">Add to</p>\n      <svg class=\"modal-prod-basket-icon\" >\n        <use href=\"${icons}#icon-basket\"></use>\n      </svg>\n  </button>\n  </div>\n  </div>\n  `;\n\n    const addBtn = document.querySelector('.modal-prod-add-btn');\n    addBtn.addEventListener('click', () =>\n      addOrRemoveProductToBasket(productDetails)\n    );\n\n    const closeBtn = document.querySelector('.modal-prod-close-btn');\n    closeBtn.addEventListener('click', () => closeModal());\n\n    // Додаю слухачі подій\n    window.addEventListener('click', closeModalOnWindowClick);\n    window.addEventListener('keydown', closeModalOnEsc);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function addOrRemoveProductToBasket(productDetails) {\n  const productId = productDetails._id;\n  //\n  const allProducts = getAllProducts();\n  const isProductInBasket = allProducts.some(item => item._id === productId);\n  const addBtnText = document.querySelector('.modal-prod-add-text');\n  if (!isProductInBasket) {\n    addProductOnClickButton({ _id: productId, amount: 1 });\n    alertPopUp();\n    addBtnText.textContent = 'Remove from';\n    updateBasketIconByProductId(productId, true);\n  } else {\n    removeProductOnClickButton(productId);\n    addBtnText.textContent = 'Add to';\n    updateBasketIconByProductId(productId, false);\n    alertPopUp('The product has been removed the basket!', 'info');\n  }\n  updateCartCounter();\n}\n\n//! Функція закриття модалки при кліку на хрестик\n\nfunction closeModal() {\n  document.body.classList.remove('stop-scroll');\n  modal.classList.remove('modal-active');\n  modal.innerHTML = '';\n\n  // Видаляю слухачі подій\n  window.removeEventListener('click', closeModalOnWindowClick);\n  window.removeEventListener('keydown', closeModalOnEsc);\n}\n\n//! Закриття модалки при кліку по бекдропу\n\nfunction closeModalOnWindowClick(e) {\n  if (e.target === modal) {\n    closeModal();\n  }\n}\n\n//! Закриття модалки при кліку на кнопку ESC\n\nfunction closeModalOnEsc(e) {\n  if (e.keyCode === 27) {\n    closeModal();\n  }\n}\n","import { openModal } from './modal';\nimport ApiService from './requests';\nimport createMarkup from './markup_products_list';\nimport icons from '../img/symbol-defs.svg';\nimport alertPopUp from './alert';\nimport {\n  getAllProducts,\n  addProductOnClickButton,\n} from './local-storage-interface';\nimport { updateCartCounter } from './header.js';\n\nconst productsList = document.querySelector('.js-products-list');\nproductsList.addEventListener('click', onClickCart);\n\nconst apiService = new ApiService();\nconst itemsPerPage = 9;\nlet productsOnePage;\nlet basketButtons;\n\nconst markupSvgCheck = `<svg class=\"cart-icon\" width=\"18\" height=\"18\" pointer-events: none;>\n<use href=\"${icons}#icon-check\"></use>\n</svg>`;\n\nconst markupSvgCart = `<svg class=\"cart-icon\" width=\"18\" height=\"18\" pointer-events: none;>\n<use href=\"${icons}#icon-basket\"></use>\n</svg>`;\n\nexport const updateData = () => {\n  const dataFromLocalStorage = getAllProducts();\n  const buttons = document.querySelectorAll('.cart-button');\n\n  buttons.forEach(button => {\n    const isProductInBasket = dataFromLocalStorage.some(\n      item => item._id === button.dataset.itemId\n    );\n    updateBasketIcon(button, isProductInBasket);\n  });\n};\n\nupdateData();\n\nasync function prod() {\n  const allProducts = await apiService.getAllProducts();\n  const productsOnePage = allProducts.results.slice(0, itemsPerPage);\n\n  displayProducts(productsOnePage, productsList);\n\n\n  addEventListenersToBasketButtons();\n\n  basketButtons.forEach(button => {\n    const isProductInBasket = getAllProducts().some(\n      item => item._id === button.dataset.itemId\n    );\n    updateBasketIcon(button, isProductInBasket);\n  });\n}\n\nexport function displayProducts(products, container) {\n  productsOnePage = products;\n  container.innerHTML = createMarkup(products);\n}\n\nconst cartState = getAllProducts();\n\nexport function addEventListenersToBasketButtons() {\n  basketButtons = document.querySelectorAll('.cart-button');\n\n  if (basketButtons) {\n    basketButtons.forEach(basketButton => {\n      basketButton.addEventListener('click', handleBasketButtonClick);\n    });\n  }\n  updateData();\n}\n\nupdateData ();\n\nfunction handleBasketButtonClick(event) {\n  const basketButton = event.target.closest('.cart-button');\n  if (basketButton) {\n    const itemId = basketButton.dataset.itemId;\n    const { message, icon } = handleBasketClick(basketButton, itemId);\n    alertPopUp(message, icon);\n    updateCartCounter();\n    updateData();\n    basketButton.disabled = true;\n  }\n}\n\nexport function handleBasketClick(cartButton, itemId) {\n  const cartItemIndex = cartState.findIndex(item => item._id === itemId);\n  let message, icon;\n  if (cartItemIndex !== -1) {\n    message = 'This product has already been added to the cart!';\n    icon = 'warning';\n  } else {\n    addProductOnClickButton({ _id: itemId, amount: 1 }); // Додаємо товар до локального сховища\n  }\n  updateBasketIcon(cartButton, true);\n  return { message, icon };\n}\n\nexport function updateBasketIconByProductId(productId, inCart) {\n  basketButtons.forEach(button => {\n    if (button.dataset.itemId === productId) {\n      button.disabled = false;\n      updateBasketIcon(button, inCart);\n    }\n  });\n}\n\nfunction updateBasketIcon(cartButton, inCart) {\n  const button = document.querySelector('.cart-button');\n  if (inCart) {\n    cartButton.innerHTML = markupSvgCheck;\n   // button.disabled = true;\n  } else {\n    cartButton.innerHTML = markupSvgCart;\n    button.disabled = false;\n  }\n}\n\nprod();\n\n// function onClickCart(e) {\n//   e.preventDefault();\n//   const clickedEl = e.target;\n\n//   if (clickedEl.closest('li') && clickedEl.closest('.product-item')) {\n//     const id = clickedEl.closest('li').dataset.productId;\n//     const product = productsOnePage.find(item => item._id === id);\n//     openModal(product).catch(error => {\n//       console.error('Помилка при отриманні продукта за айді:', error.message);\n//     });\n//   }\n// }\n\nfunction onClickCart(e) {\n  e.preventDefault();\n  const clickedEl = e.target;\n\n  if (clickedEl.tagName.toLowerCase() === 'button') {\n    return;\n  }\n\n  const productItem = clickedEl.closest('.product-item');\n\n  if (productItem) {\n    const id = productItem.dataset.productId;\n    const product = productsOnePage.find(item => item._id === id);\n    openModal(product).catch(error => {\n      console.error('Помилка при отриманні продукта за айді:', error.message);\n    });\n  }\n}\n","import createMarkup from './markup_products_list.js';\nimport ApiService from './requests.js';\n// import {\n//   addEventListenersToBasketButtons,\n//   displayProducts,\n// } from './products_list.js';\n// import { FilterStorage } from './filter_helpers.js';\n// import {alertPopUp} from './alert';\n// alertPopUp('The product has been removed from the basket!');\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\nimport '../css/filters.css';\nimport {\n  displayProducts,\n  addEventListenersToBasketButtons,\n  updateData,\n} from './products_list';\nimport icons from '../img/symbol-defs.svg';\n\nconst productsList = document.querySelector('.js-products-list');\n// const apiService = new ApiService();\nconst container = document.getElementById('pagination');\n\n// ******************************************************************************************\nconst paginationContainer = document.getElementById('pagination');\nlet visiblePages = 4;\n\nfunction updateVisiblePages() {\n  if (window.innerWidth <= 375){\n    visiblePages = 2;\n  } else {\n    visiblePages = 4;\n  }\n}\n// Вызывать функцию обновления при изменении размера окна\n  window.addEventListener('resize', updateVisiblePages);\n\n  // Инициализировать значение при загрузке страницы\nupdateVisiblePages();\n  \n\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  localStorage.setItem('noResultsMessageDisplayed', 'false');\n  const apiService = new ApiService();\n\n  // Запит списку категорій та додавання \"Show all\"\n  const categorySelect = document.querySelector('.category-select');\n\n  categorySelect.addEventListener('change', async () => {\n    const selectedCategory = categorySelect.value;\n    // console.log('2Selected Category:', categorySelect.value);\n    localStorage.setItem('selectedCategory', selectedCategory);\n    await filterProducts();\n  });\n\n  async function filterProducts() {\n    const keywordInput = document.querySelector('.keyword-input');\n    const selectedCategory = categorySelect.value;\n\n    const filters = {\n      keyword: keywordInput.value || null,\n      category:\n        selectedCategory === 'Show all' || selectedCategory === 'Categories'\n          ? ''\n          : selectedCategory,\n      page: 1,\n      limit: 9,\n    };\n    // console.log('1Category:', filters.category);\n    localStorage.setItem('filters', JSON.stringify(filters));\n    // keywordInput.value = '';\n    // let options;\n    try {\n      let products;\n\n      // Перевіряємо, чи є ключове слово\n      if (!filters.keyword && filters.category === '') {\n        // Якщо і ключове слово, і категорія відсутні,\n        // Запит на отримання всіх продуктів\n        products = await apiService.getAllProducts(filters.page, filters.limit);\n      } else if (!filters.keyword) {\n        // Якщо немає ключового слова, запит на отримання всіх продуктів у вибраній категорії\n        products = await apiService.getProductsInCategories(\n          filters.category,\n          filters.page,\n          filters.limit\n        );\n      } else {\n        // Інакше запит на сервер з урахуванням ключового слова\n        products = await apiService.getProductsByName(\n          filters.keyword,\n          filters.category,\n          filters.page,\n          filters.limit\n        );\n      }\n\n      console.log('Полученные продукты:(products=>)', products);\n      console.log('Количество страниц:(totalPages=>)', products.totalPages);\n      let totalPages = products.totalPages;\n      // Сохранение products.results в локальное хранилище для пагинации (totalPages)\n      // Переключаем отображение/скрытие пагинации в зависимости от totalPages\n      if (totalPages <= 1) {\n        paginationContainer.style.display = 'none';\n        // paginationContainer.classList.add('hidden');\n        // console.log(\"Спрятали\");\n      } else {\n         paginationContainer.style.display = 'flex';\n        // paginationContainer.classList.remove('hidden');\n        // console.log(\"Показали\");\n      }\n      \n      localStorage.setItem('products', JSON.stringify(products));\n      //  Создаем экземпляр  FilterStorage:\n      //  const storageKey = 'filterOfProducts';\n      //  const filterStorageInstance = new FilterStorage(storageKey);\n      //  const filterOfProducts = products.results;\n\n      //  filterStorageInstance.writeToLocalStorage(filterOfProducts);\n\n      // pagination.reset();\n      // RENDERing\n      if (products.totalPages === 0) {\n        if (\n          localStorage.getItem('noResultsMessageDisplayed') !== 'true' ||\n          localStorage.getItem('noResultsMessageDisplayed') !== true\n        ) {\n          renderNoResultsMessage();\n        }\n      } else {\n        // Передача властивостей продукту markUp()\n        const productsMarkup = createMarkup(products.results);\n\n        // Відображення HTML-розмітки на сторінці\n        const productsListContainer =\n          document.querySelector('.js-products-list');\n\n        displayProducts(products.results, productsListContainer);\n\n        //  productsList.innerHTML = productsMarkup;\n\n        addEventListenersToBasketButtons();\n        // Удаление сообщения \"Nothing...\"\n        removeNoResultsMessage();\n        // Устанавливаем флаг в false, так как результаты найдены\n        localStorage.setItem('noResultsMessageDisplayed', 'false');\nconsole.log('filters.limit', filters.limit);\n        const options = {\n          totalItems: products.totalPages * filters.limit,\n          itemsPerPage: 9,\n          visiblePages: visiblePages,\n          page: 1,\n          centerAlign: true,\n          template: {\n            prev:\n              `<a href=\"#\" class=\"tui-page-btn tui-prev\">` +\n              // `<svg class=\"icon-svg\"><use href=\"${icons}#icon-Nav-Button-Prev\"></use></svg>` +\n              `</a>`,\n            // firstPageLink: `<a href=\"#\" class=\"tui-page-btn tui-first\">{{page}}</a>`,\n            firstPageLink:\n              `<a href=\"#\" class=\"tui-page-btn tui-first\">` +\n              `<svg class=\"icon-svg\">` +\n              // `<use href=\"${icons}#icon-Nav-Button-Prev\"></use>` +\n              // `<use href=\"${icons}#icon-Nav-Button-Prev\" transform=\"scale(-1, 1)\"></use>` +\n              `</svg>` +\n              `</a>`,\n\n            page: `<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">{{page}}</a>`,\n            currentPage: `<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>`,\n            moveButton:\n              `<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">` +\n              // `<span class=\"tui-ico-{{type}}\">{{type}}</span>` +\n              `<svg class=\"tui-ico-{{type}}\" width=\"32\" height=\"32\"><use href=\"${icons}#icon-Nav-Button-Next\"></use></svg>` +\n              `</a>`,\n\n            disabledMoveButton:\n              `<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">` +\n              // `<span class=\"tui-ico-{{type}}\">{{type}}</span>` +\n              `<svg class=\"tui-ico-{{type}}\" width=\"32\" height=\"32\"><use href=\"${icons}#icon-Nav-Button-Next\"></use></svg>` +\n              `</span>`,\n\n            moreButton:\n              `<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">` +\n              `<span class=\"tui-ico-ellip\">...</span>` +\n              // `<svg class=\"tui-ico-ellip\" width=\"14\" height=\"14\"><use href=\"{{type}}\"></use></svg>` +\n              `</a>`,\n            // lastPageLink: `<a href=\"#\" class=\"tui-page-btn tui-last\">{{page}}</a>`,\n            lastPageLink:\n              `<a href=\"#\" class=\"tui-page-btn tui-last\">` +\n              `<svg class=\"icon-svg\">` +\n              // `<use href=\"${icons}#icon-Nav-Button-Next\"></use>` +\n              // `<use href=\"${icons}#icon-Nav-Button-Next\" transform=\"scale(-1, 1)\"></use>` +\n              `</svg>` +\n              `</a>`,\n            next:\n              `<a href=\"#\" class=\"tui-page-btn tui-next\">` +\n              `<svg class=\"icon-svg\"><use href=\"next.svg#next\"></use></svg>` +\n              `</a>`,\n              \n          },\n        };\n        const pagination = new Pagination(container, options);\n\n        pagination.on('beforeMove', async event => {\n          const currentPage = event.page;\n          const selectedCategory = categorySelect.value;\n\n          let newProducts;\n\n          if (\n            selectedCategory === 'Show all' ||\n            selectedCategory === 'Categories'\n          ) {\n            // Если выбраны 'Show all' или 'Categories', делаем запрос без категории\n            newProducts = await apiService.getAllProducts(currentPage, 9);\n          } else {\n            // В противном случае делаем запрос с указанием текущей категории\n            newProducts = await apiService.getProductsInCategories(\n              selectedCategory,\n              currentPage,\n              9\n            );\n          }\n\n          displayProducts(newProducts.results, productsList);\n          addEventListenersToBasketButtons();\n          updateData();\n          // После обновления контента прокрутите страницу вверх\n          let scrollToTop;\n\n          // Рассчитываем значение scrollToTop в зависимости от ширины экрана\n          if (window.innerWidth >= 1440) {\n            scrollToTop = 750;\n          } else if (window.innerWidth >= 768) {\n            scrollToTop = 1100;\n          } else {\n            scrollToTop = 900;\n          }\n          window.scrollTo({\n            top: scrollToTop,\n            behavior: 'smooth',\n          });\n        });\n      }\n    } catch (error) {\n      console.error('Ошибка при получении продуктов:', error.message);\n    }\n  }\n\n  try {\n    const categories = await apiService.getProductsByCategory();\n\n    categorySelect.innerHTML = '';\n    categories.unshift('Categories');\n    categories.push('Show all');\n\n    categories.forEach(category => {\n      const option = document.createElement('option');\n\n      option.value = category;\n      option.textContent = category.replace(/_/g, ' ');\n      categorySelect.appendChild(option);\n    });\n    // Добавляем атрибут aria-label\n    categorySelect.setAttribute('aria-label', 'Select a category');\n  } catch (error) {\n    console.error('Ошибка при получении категорий:', error.message);\n  }\n\n  // Обробка події відправлення форми\n  const filterForm = document.querySelector('.filter-form');\n\n  filterForm.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    // Набуття значень з форми\n    const keywordInput = document.querySelector('.keyword-input');\n    const selectedCategory = categorySelect.value;\n\n    // Оновлення даних у локальному сховищі\n    const filters = {\n      keyword: keywordInput.value || null,\n      category: selectedCategory === 'Show all' ? null : selectedCategory,\n      page: 1,\n      limit: 9,\n    };\n\n    localStorage.setItem('filters', JSON.stringify(filters));\n\n    const defaultFilters = {\n      keyword: null,\n      category: null,\n      page: 1,\n      limit: 9,\n    };\n    localStorage.setItem('filters', JSON.stringify(defaultFilters));\n\n    // Вызов функции фильтрации при загрузке страницы\n    await filterProducts();\n  });\n\n  function removeNoResultsMessage() {\n    // const productsList = document.querySelector('.js-products-list');\n    const titleElement = document.querySelector('.filters-title');\n    const textElement = document.querySelector('.filters-text');\n    // productsList.remove();\n    // titleElement.remove();\n    // textElement.remove();\n    if (titleElement) {\n      titleElement.remove();\n    }\n\n    if (textElement) {\n      textElement.remove();\n    }\n\n    // Устанавливаем флаг в локальное хранилище, чтобы помнить, что сообщение уже было выведено\n    localStorage.setItem('noResultsMessageDisplayed', 'true');\n    // **********************\n    // Отобразить пагинацию\n    if (paginationContainer) {\n      // Удалить класс для отображения\n      paginationContainer.classList.remove('hidden');\n    }\n\n    // ************************\n  }\n\n  // Ініціалізація значень за замовчуванням під час завантаження сторінки\n  const defaultFilters = {\n    keyword: null,\n    category: null,\n    page: 1,\n    limit: 9,\n  };\n  localStorage.setItem('filters', JSON.stringify(defaultFilters));\n  await filterProducts();\n});\n\n//    onFocus & onBlur on <input-box> from input\n// Получаем ссылки на элементы\nconst inputBox = document.querySelector('.input-box');\nconst keywordInput = document.querySelector('.keyword-input');\n\n// Добавляем обработчики событий\nkeywordInput.addEventListener('focus', addFocusStyle);\nkeywordInput.addEventListener('blur', removeFocusStyle);\n\n// Функции для добавления и удаления стилей при фокусировке и потере фокуса\nfunction addFocusStyle() {\n  inputBox.classList.add('focus-within');\n}\n\nfunction removeFocusStyle() {\n  inputBox.classList.remove('focus-within');\n}\n//\n//\n// rendering \"Nothing was found for the selected\"\nfunction renderNoResultsMessage() {\n  if (\n    localStorage.getItem('noResultsMessageDisplayed') === 'true' ||\n    localStorage.getItem('noResultsMessageDisplayed') === true\n  ) {\n    return; // Если да, то выходим из функции\n  }\n  const productsList = document.querySelector('.js-products-list');\n\n  // Создаем заголовок H2\n  const titleElement = document.createElement('h2');\n  titleElement.textContent = 'Nothing was found for the selected ';\n  titleElement.classList.add('filters-title');\n\n  // Создаем span\n  const filtersSpan = document.createElement('span');\n  filtersSpan.textContent = 'filters';\n  filtersSpan.classList.add('filters-span');\n\n  // Присоединяем span к заголовку\n  titleElement.appendChild(filtersSpan);\n\n  // Создаем параграф\n  const textElement = document.createElement('p');\n  textElement.textContent =\n    'Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.';\n  textElement.classList.add('filters-text');\n\n  // Вставляем элементы в DOM\n  productsList.innerHTML = ''; // Очищаем содержимое productsList\n  productsList.insertAdjacentElement('afterend', titleElement);\n  titleElement.insertAdjacentElement('afterend', textElement);\n\n  // Устанавливаем флаг в локальное хранилище, чтобы помнить, что сообщение уже было выведено\n  localStorage.setItem('noResultsMessageDisplayed', 'true');\n  // ***********************************\n  // Скрыть пагинацию\n  if (paginationContainer) {\n    // console.log('hidden', paginationContainer);\n    paginationContainer.classList.add('hidden');\n\n  }\n\n  // *****************************************\n}\n","import icons from '../img/symbol-defs.svg';\n\nexport default function createMarkupDiscount(arr) {\n  return arr\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        price,\n      }) => `<li class=\"discount-product-item\" data-product-id='${_id}'>\n    <div class=\"discount-con\">\n        <div class=\"discount-image-container\" data-product-id=\"${_id}\"> <img src=\"${img}\" alt=\"${name}\" class=\"discount-image\" width=\"114\" height=\"114\" loading=\"lazy\" >\n        </div>\n        <div class=\"discount-info-container\">\n          <h3 class=\"product-name product-name-disc\">${name} </h3>\n          <div class=\"discount-text-container\">  \n            <p class=\"price price-disc\">$${price}</p>\n            <button class=\"cart-button-disk cart-button\" type=\"button\" data-item-id=\"${_id}\" data-in-cart=\"false\" aria-label=\"Add to cart\">\n                <svg class=\"cart-icon-disk\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-basket\"></use>\n                </svg>\n            </button>\n          </div>\n        </div> \n        <div class=\"div-icon-discount\">\n          <svg class=\"icon-discount\" width=\"60\" height=\"60\">\n            <use href=\"${icons}#icon-discount\"></use>\n          </svg>\n        </div>\n    </div>\n</li>`)\n    .join('');\n}","import { openModal } from './modal';\nimport ApiService from './requests';\nimport createMarkupDiscount from './markup_discount';\nimport { addEventListenersToBasketButtons} from './products_list';\nimport { getAllProducts } from './local-storage-interface';\n\nconst popularList = document.querySelector('.js-discount-list');\npopularList.addEventListener('click', onClickCart);\n\nconst apiReq = new ApiService();\nconst imgPerPage = 2;\nlet cartState = [];\nlet productsOnePage;\n\nasync function elemFromApi() {\n  const products = await apiReq.getDiscountedProducts();\n  productsOnePage = products.slice(0, imgPerPage);\n  displayProducts(productsOnePage, popularList);\n  addEventListenersToBasketButtons();\n  cartState.forEach(item => {\n  updateBasketIconByProductId(item._id, getAllProducts().some(product => product._id === item._id));\n });\n}\nelemFromApi();\nfunction updateBasketIconByProductId(productId, inCart) {\n  basketButtons.forEach(button => {\n    if (button.dataset.itemId === productId) {\n      updateBasketIcon(button, inCart);\n  }\n });\n}\nfunction updateBasketIcon(cartButton, inCart) {\n  const button = document.querySelector('.cart-button');\n  if (inCart) {\n    cartButton.innerHTML = `<svg class=\"ico\" pointer-events: none;>\n  <use href=\"${icons}#icon-check\"></use>\n  </svg>`;\n    button.disabled = true;\n  } else {\n    cartButton.innerHTML = `<svg class=\"ico\" pointer-events: none;>\n  <use href=\"${icons}#icon-basket\"></use>\n  </svg>`;\n    button.disabled = false;\n  }\n}\nfunction displayProducts(productsOnePage, container) {\n  container.innerHTML = createMarkupDiscount(productsOnePage);\n}\n// function onClickCart(e) {\n//   e.preventDefault();\n//   const clickedEl = e.target;\n  \n//   if (clickedEl.closest('li') && clickedEl.closest('.discount-product-item')) {\n//     const id = clickedEl.closest('li').dataset.productId;\n//     const product = productsOnePage.find(item => item._id === id);\n//     openModal(product).catch(error => {\n//       console.error('Помилка при отриманні продукта за айді:', error.message);\n//     });\n//   }\n// }\n\nfunction onClickCart(e) {\n  e.preventDefault();\n  const clickedEl = e.target;\n\n  if (clickedEl.tagName.toLowerCase() === 'button') {\n    return;\n  }\n\n  const productItem = clickedEl.closest('.discount-product-item');\n\n  if (productItem) {\n    const id = productItem.dataset.productId;\n    const product = productsOnePage.find(item => item._id === id);\n    openModal(product).catch(error => {\n      console.error('Помилка при отриманні продукта за айді:', error.message);\n    });\n  }\n}","import { getAllProducts } from './local-storage-interface.js';\nimport icons from '../img/symbol-defs.svg';\n\nconst markupSvgCheck = `<svg class=\"cart-icon\" width=\"18\" height=\"18\">\n<use href=\"${icons}#icon-check\"></use>\n</svg>`;\n\nconst markupSvgCart = `<svg class=\"cart-icon\" width=\"18\" height=\"18\">\n<use href=\"${icons}#icon-basket\"></use>\n</svg>`;\n\nconst dataFromLocalStorage = getAllProducts();\n\nexport function createMarkupPopular(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, size, popularity }) => `\n      <li class=\"popular-product-item\" data-product-id='${_id}'>\n        <div class=\"popular-con\">\n\n          <div class=\"product-image-container\" data-product-id=\"${_id}\">\n            <img src=\"${img}\" alt=\"\" class=\"product-image\" width=\"56\" height=\"56\" loading=\"lazy\">\n\n          </div>\n          <div class=\"popular-left\">\n            <div class=\"product-text-pop\">\n              <h3 class=\"product-name\">${name}</h3>\n            </div>\n            <p class=\"product margin\">\n              Category: <span class=\"category-value\">${category.replace(\n                '_',\n                ' '\n              )}</span><br>\n              Size: <span class=\"size-value\">${size}</span>\n              Popularity: <span class=\"popularity-value\"> ${popularity}</span>\n            </p>\n          </div>\n          <button class=\"cart-button-pop cart-button\" type=\"button\" data-item-id=\"${_id}\" data-in-cart=\"false\" aria-label=\"Add to cart\">\n          ${\n            dataFromLocalStorage.some(item => item._id === _id)\n              ? markupSvgCheck\n              : markupSvgCart\n          }\n          </button>\n        </div>\n      </li>\n      `\n    )\n    .join('');\n}\n","import { openModal } from './modal';\nimport ApiService from './requests';\nimport icons from '../img/symbol-defs.svg';\nimport { createMarkupPopular } from './markup-popular';\nimport { addEventListenersToBasketButtons, updateData } from './products_list';\nimport { getAllProducts } from './local-storage-interface';\n\nconst popularList = document.querySelector('.js-popular-list');\npopularList.addEventListener('click', onClickCart);\n\nconst apiReq = new ApiService();\nconst imgPerPage = 5;\nlet cartState = [];\nlet productsOnePage;\n\nupdateData();\n\nasync function elemFromApi() {\n  const products = await apiReq.getPopularProducts();\n  productsOnePage = products.slice(0, imgPerPage);\n  displayProducts(productsOnePage, popularList);\n  addEventListenersToBasketButtons();\n\n  cartState.forEach(item => {\n    updateBasketIconByProductId(\n      item._id,\n      getAllProducts().some(product => product._id === item._id)\n    );\n  });\n}\n\nelemFromApi();\n\nfunction updateBasketIconByProductId(productId, inCart) {\n  basketButtons.forEach(button => {\n    if (button.dataset.itemId === productId) {\n      updateBasketIcon(button, inCart);\n    }\n  });\n}\n\nfunction updateBasketIcon(cartButton, inCart) {\n  const button = document.querySelector('.cart-button');\n\n  if (inCart) {\n    cartButton.innerHTML = `<svg class=\"cart-icon-pop\" pointer-events: none;>\n  <use href=\"${icons}#icon-check\" width=\"12\" height=\"12\"></use>\n  </svg>`;\n    button.disabled = true;\n  } else {\n    cartButton.innerHTML = `<svg class=\"cart-icon-pop\" pointer-events: none;>\n  <use href=\"${icons}#icon-basket\" width=\"12\" height=\"12\"></use>\n  </svg>`;\n    button.disabled = false;\n  }\n}\n\nfunction displayProducts(productsOnePage, container) {\n  container.innerHTML = createMarkupPopular(productsOnePage);\n}\n\n// function onClickCart(e) {\n//   e.preventDefault();\n//   const clickedEl = e.target;\n\n//   if (clickedEl.closest('li') && clickedEl.closest('.popular-product-item')) {\n//     const id = clickedEl.closest('li').dataset.productId;\n//     const product = productsOnePage.find(item => item._id === id);\n//     openModal(product).catch(error => {\n//       console.error('Помилка при отриманні продукта за айді:', error.message);\n//     });\n//   }\n// }\n\nfunction onClickCart(e) {\n  e.preventDefault();\n  const clickedEl = e.target;\n\n  if (clickedEl.tagName.toLowerCase() === 'button') {\n    return;\n  }\n\n  const productItem = clickedEl.closest('.popular-product-item');\n\n  if (productItem) {\n    const id = productItem.dataset.productId;\n    const product = productsOnePage.find(item => item._id === id);\n    openModal(product).catch(error => {\n      console.error('Помилка при отриманні продукта за айді:', error.message);\n    });\n  }\n}"],"names":["markupSvgCheck","icons","markupSvgCart","dataFromLocalStorage","getAllProducts","createMarkup","arr","_id","name","img","category","price","size","popularity","item","modal","api","ApiService","openModal","product","productWithDescription","renderModal","syncAddProductButtonStatus","productDetails","addBtnText","productId","addOrRemoveProductToBasket","closeModal","closeModalOnWindowClick","closeModalOnEsc","error","isProductInBasket","removeProductOnClickButton","updateBasketIconByProductId","alertPopUp","addProductOnClickButton","updateCartCounter","productsList","onClickCart","apiService","itemsPerPage","productsOnePage","basketButtons","updateData","button","updateBasketIcon","prod","displayProducts","addEventListenersToBasketButtons","products","container","cartState","basketButton","handleBasketButtonClick","event","itemId","message","icon","handleBasketClick","cartButton","cartItemIndex","inCart","clickedEl","productItem","id","paginationContainer","visiblePages","updateVisiblePages","categorySelect","selectedCategory","filterProducts","keywordInput","filters","renderNoResultsMessage","productsMarkup","productsListContainer","removeNoResultsMessage","options","Pagination","currentPage","newProducts","scrollToTop","categories","option","defaultFilters","titleElement","textElement","inputBox","addFocusStyle","removeFocusStyle","filtersSpan","createMarkupDiscount","popularList","apiReq","imgPerPage","elemFromApi","createMarkupPopular"],"mappings":"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"}